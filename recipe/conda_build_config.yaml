# https://github.com/conda-forge/conda-forge-pinning-feedstock/blob/main/recipe/conda_build_config.yaml

c_stdlib_version:  # [osx and x86_64]
  - '10.15'        # [osx and x86_64]

rerun_version:
  - '0.23'

# Support older PyTorch versions on linux-64 only
# Other platforms use the current stable version (2.9)
# Removed pytorch 2.8 to reduce CI build time (was timing out at 6h)
# pybind11-abi version is determined by pytorch version in meta.yaml using Jinja2 conditional:
# - pytorch 2.7: pybind11-abi 4
# - pytorch 2.9: pybind11-abi 11
#
# CUDA version pairing for linux-64:
# - pytorch 2.7 uses CUDA 12.6 (skip cuda129 + py27 in meta.yaml)
# - pytorch 2.9 uses CUDA 12.9 (skip cuda126 + py29 in meta.yaml)
pytorch:
  - '2.7'  # [linux and x86_64]
  - '2.9'

libtorch:
  - '2.7'  # [linux and x86_64]
  - '2.9'

# Add CUDA 12.6 and 12.9 variants for linux-64 with paired compiler versions
# These must have matching lengths for the zip_key group:
# [c_compiler_version, cxx_compiler_version, fortran_compiler_version, c_stdlib_version, cuda_compiler_version]
cuda_compiler_version:     # [linux and x86_64]
  - '12.6'                 # [linux and x86_64]
  - '12.9'                 # [linux and x86_64]

c_compiler_version:        # [linux and x86_64]
  - '14'                   # [linux and x86_64]
  - '14'                   # [linux and x86_64]

cxx_compiler_version:      # [linux and x86_64]
  - '14'                   # [linux and x86_64]
  - '14'                   # [linux and x86_64]

c_stdlib_version:          # [linux and x86_64]
  - '2.17'                 # [linux and x86_64]
  - '2.17'                 # [linux and x86_64]

fortran_compiler_version:  # [linux and x86_64]
  - '14'                   # [linux and x86_64]
  - '14'                   # [linux and x86_64]
